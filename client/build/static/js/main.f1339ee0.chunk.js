(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/img-2.059715b3.jpg"},47:function(e,t,a){e.exports=a.p+"static/media/logo-white.36c69a89.png"},50:function(e,t,a){e.exports=a(94)},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),l=a(1),o=a(7),i=a(20),m=a(46),u=a(21),p=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},d={isAuthenticated:!1,user:{},errors:{}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(u.a)({},e,{isAuthenticated:!p(t.payload),user:t.payload});case"GET_ERRORS":return Object(u.a)({},e,{errors:t.payload});default:return e}},b={myProducts:[],errors:{}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return Object(u.a)({},e,{errors:t.payload});case"GET_MY_PRODUCTS":return Object(u.a)({},e,{myProducts:t.payload});default:return e}},E={myWishlist:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WISHLIST":return Object(u.a)({},e,{myWishlist:t.payload});default:return e}},v=Object(i.c)({auth:h,product:f,wishlist:g}),N=[m.a],y=Object(i.e)(v,Object(i.d)(i.a.apply(void 0,N),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),x=a(2),w=a(3),k=a(5),j=a(4),O=a(22),C=a(27),S=a.n(C),D=a(6),P=a.n(D),A=function(e){var t=function(t){Object(k.a)(n,t);var a=Object(j.a)(n);function n(){return Object(x.a)(this,n),a.apply(this,arguments)}return Object(w.a)(n,[{key:"componentDidMount",value:function(){localStorage.jwtToken||this.props.auth.isAuthenticated||this.props.history.replace("/login")}},{key:"componentDidUpdate",value:function(){this.props.auth.isAuthenticated||this.props.history.replace("/login")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(n.Component);return Object(o.b)((function(e){return{auth:e.auth}}))(t)},R=function(e){e?P.a.defaults.headers.common.Authorization=e:delete P.a.defaults.headers.common.Authorization},I=a(9),F=a.n(I),G=a(12),_=function(e,t){var a=e.data.token;localStorage.setItem("jwtToken",a),R(a);var n=S()(a);t(T(n))},T=function(e){return{type:"SET_CURRENT_USER",payload:e}},W=function(e){return function(){var t=Object(G.a)(F.a.mark((function t(a){var n,r,c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=0;case 2:if(!(r<e.length)){t.next=11;break}return t.next=5,P.a.get("/api/products/singleproduct/".concat(e[r]));case 5:c=t.sent,n.push(c.data),e.length===n.length&&a({type:"GET_MY_PRODUCTS",payload:n}),r++,t.next=2;break;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(G.a)(F.a.mark((function t(a){var n,r,c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=0;case 2:if(!(r<e.length)){t.next=11;break}return t.next=5,P.a.get("/api/products/singleproduct/".concat(e[r]));case 5:c=t.sent,n.push(c.data),e.length===n.length&&a({type:"GET_WISHLIST",payload:n}),r++,t.next=2;break;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=a(17),L=a(23),B=Object(L.a)([function(e){return e.auth}],(function(e){return e})),Y=a(47),K=a.n(Y),z=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).onSubmit=function(t){t.preventDefault();var a=e.state.search;e.props.history.push("/results/?search=".concat(a))},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(M.a)({},n,r))},e.state={search:""},e}return Object(w.a)(a,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"#",onClick:this.onLogoutClick.bind(this),className:"nav-link"},r.a.createElement("img",{className:"rounded-circle",src:a.image,alt:a.name,style:{width:"25px",marginRight:"5px"},title:"You must have a Gravatar connected to your email to display an image"})," ","Logout")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/postad"},"Post Ad"))),c=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/signup"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/login"},"Login")));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark sticky-top display"},r.a.createElement("div",{className:"col-2"},r.a.createElement(l.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:K.a,alt:"logo",style:{width:"9rem"}}))),r.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbar-menu"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar-menu"},r.a.createElement("div",{className:"nav-item dropdown"},r.a.createElement(l.b,{to:"#",className:"nav-link dropdown-toggle text-white","data-toggle":"dropdown"},"Select City"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(l.b,{to:"/results/?city=Delhi",className:"dropdown-item"},"Delhi"),r.a.createElement(l.b,{to:"/results/?city=Mumbai",className:"dropdown-item"},"Mumbai"),r.a.createElement(l.b,{to:"/results/?city=Kolkata",className:"dropdown-item"},"Kolkata"),r.a.createElement(l.b,{to:"/results/?city=Bangalore",className:"dropdown-item"},"Bengaluru"),r.a.createElement(l.b,{to:"/results/?city=Chennai",className:"dropdown-item"},"Chennai"))),r.a.createElement("form",{className:"form-inline mx-auto",onSubmit:this.onSubmit},r.a.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search",size:"50",name:"search",onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0",type:"submit"},"Search")),t?n:c))}}]),a}(n.Component),H=Object(o.b)((function(e){return{auth:B(e)}}),(function(e){return{logoutUser:function(){return e((function(e){localStorage.removeItem("jwtToken"),R(!1),e(T({}))}))}}}))(Object(O.e)(z)),V=a(11),X=a.n(V),q=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-light   border border-dark  navbar-light nav-fill ",style:{height:"5vh"}},r.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"collapse_target",hidden:!0}),r.a.createElement("div",{className:"collapse navbar-collapse"},r.a.createElement(l.b,{to:"/results/?category=Automobile",className:"nav-item nav-link text-body"},"Automobiles"),r.a.createElement(l.b,{to:"/results/?category=Real-Estate",className:"nav-item nav-link text-body"},"Real Estate"),r.a.createElement(l.b,{to:"/results/?category=Electronics",className:"nav-item nav-link text-body"},"Electronics"),r.a.createElement(l.b,{to:"/results/?category=Fashion",className:"nav-item nav-link text-body"},"Fashion"),r.a.createElement(l.b,{to:"/results/?category=Pet",className:"nav-item nav-link text-body"},"Pet"),r.a.createElement(l.b,{to:"/results/?category=Furniture",className:"nav-item nav-link text-body"},"Furniture"))))}}]),a}(n.Component),J=a(28),Q=a.n(J),Z=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel",style:{height:"60vh"}},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner",style:{height:"60vh"}},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{src:Q.a,className:"tales img-fluid",alt:"..."})),r.a.createElement("div",{className:"carousel-item",style:{height:"60vh"}},r.a.createElement("img",{src:Q.a,className:"tales img-fluid",alt:"..."})),r.a.createElement("div",{className:"carousel-item",style:{height:"60vh"}},r.a.createElement("img",{src:Q.a,className:"tales img-fluid",alt:"..."}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev",style:{height:"60vh"}},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next",style:{height:"60vh"}},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))}}]),a}(n.Component),$=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mt-3 mb-3"},r.a.createElement("div",{className:"card border-dark",style:{boxShadow:"4px 4px 4px 4px #c5c5c5"}},r.a.createElement("img",{className:"card-img-top",src:this.props.product.photos[0],style:{height:"20rem"},alt:"product"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h4",{className:"card-title"},"\u20b9 ",this.props.product.price)),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("h5",{className:"card-subtitle text-muted pt-2"},this.props.product.category))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("h6",{className:"card-text"},this.props.product.title),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("span",{className:"card-text"},this.props.product.city),r.a.createElement("span",{className:"card-text"},Date(this.props.product.date).slice(3,15)))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{className:"btn btn-outline-info col-5",id:this.props.product._id,onClick:this.props.onClick},"More Info"),this.props.onDelete?r.a.createElement("button",{className:"btn btn-outline-danger col-5",id:this.props.product._id,userid:this.props.product.user,onClick:this.props.onDelete},"Delete"):"",this.props.onWishlist?r.a.createElement("button",{className:this.props.product.user!==this.props.userId?"btn btn-outline-success col-5":"btn btn-secondary col-5 disabled",id:this.props.product._id,onClick:this.props.product.user!==this.props.userId?this.props.onWishlist:null},this.props.product.user!==this.props.userId?"Add to Wishlist":"Your Product"):"",this.props.onRemove?r.a.createElement("button",{className:"btn btn-outline-danger col-5",id:this.props.product._id,onClick:this.props.onRemove},"Remove"):""))))}}]),a}(n.Component),ee=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(w.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=Object(G.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X.a.parse(this.props.history.location.search).page?this.setState({value:X.a.parse(this.props.history.location.search)}):this.setState({value:{page:"1"}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item"},r.a.createElement(l.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(this.state.value.page>1?this.state.value.page-1:"1"),"aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))),this.state.value.page>1?r.a.createElement("li",{className:"page-item"},r.a.createElement(l.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(this.state.value.page-1)},this.state.value.page-1)):"",r.a.createElement("li",{className:"page-item active"},r.a.createElement("p",{className:"page-link"},r.a.createElement("span",{className:"sr-only"},"(current)")," ",this.state.value.page)),r.a.createElement("li",{className:"page-item"},r.a.createElement(l.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(parseInt(this.state.value.page)+1)},parseInt(this.state.value.page)+1)),r.a.createElement("li",{className:"page-item"},r.a.createElement(l.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(parseInt(this.state.value.page)+1),"aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))))))}}]),a}(n.Component),te=Object(O.e)(ee),ae=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={productsHomePage:[],value:""},e.onClick=function(t){e.props.history.push("/product/?id=".concat(t.target.id))},e.onWishlist=function(t){e.props.auth.isAuthenticated?P.a.post("/api/users/addtowishlist",{id:e.props.auth.user.id,proId:t.target.id}).then((function(t){return e.props.history.push("/wishlist")})).catch((function(e){return console.log(e)})):e.props.history.push("/login")},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(G.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X.a.parse(this.props.history.location.search),e.prev=1,e.next=4,P.a.get("/api/products/allproducts/".concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({productsHomePage:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(G.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X.a.parse(this.props.history.location.search),e.prev=1,e.next=4,P.a.get("/api/products/allproducts/".concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({productsHomePage:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(Z,null),r.a.createElement("br",null),r.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.state.productsHomePage.map((function(t,a){return r.a.createElement($,{key:a,product:t,onClick:e.onClick,onWishlist:e.onWishlist,userId:e.props.auth.user.id})}))),r.a.createElement(te,{url:"/"}))}}]),a}(r.a.Component),ne=Object(o.b)((function(e){return{auth:B(e)}}))(Object(O.e)(ae)),re=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.onSort=function(t){var a=t.target.getAttribute("criteria"),n=t.target.id,r=X.a.parse(e.props.history.location.search);r[a]=n,r=X.a.stringify(r),e.props.history.push({pathname:"/results",search:"?"+r})},e.clear=function(){e.props.history.push("/results")},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(G.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X.a.parse(this.props.history.location.search),e.prev=1,e.next=4,P.a.get("/api/products/results/?city=".concat(t.city,"&category=").concat(t.category,"&title=").concat(t.search,"&page=").concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({products:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(G.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X.a.parse(this.props.history.location.search),e.prev=1,e.next=4,P.a.get("/api/products/results/?city=".concat(t.city,"&category=").concat(t.category,"&title=").concat(t.search,"&page=").concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({products:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"bg-light"},r.a.createElement("nav",{className:"row col-11 navbar ml-1"},r.a.createElement("div",{className:"btn-group col-2"},r.a.createElement("button",{type:"button",className:"btn btn-light",disabled:!0},r.a.createElement("h5",{className:"font-weight-bolder"},"SORT BY:"))),r.a.createElement("div",{className:"btn-group col-4"},r.a.createElement("button",{type:"button",className:"btn btn-outline-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Category"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("button",{onClick:this.onSort,className:"dropdown-item",criteria:"category",id:"Automobile"},"Automobile"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Real-Estate"},"Real Estate"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Electronics"},"Electronic"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Fashion"},"Fashion"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Pet"},"Pet"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Furniture"},"Furniture"))),r.a.createElement("div",{className:"btn-group col-4"},r.a.createElement("button",{type:"button",className:"btn btn-outline-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Location"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Delhi"},"Delhi"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Mumbai"},"Mumbai"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Bangalore"},"Bangalore"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Kolkata"},"Kolkata"),r.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Chennai"},"Chennai"))),r.a.createElement("div",{className:"btn-group col-2"},r.a.createElement("button",{type:"button",onClick:this.clear,className:"btn btn-outline-danger"},"Reset")))),r.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.state.products.map((function(e,t){return r.a.createElement($,{key:t,product:e})}))),r.a.createElement(te,{url:"/results/"}))}}]),a}(r.a.Component),ce=Object(O.e)(re),se=a(10),le=a.n(se),oe=a(49),ie=a.n(oe),me=a(19),ue=a.n(me),pe=(a(92),function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).responseGoogle=function(t){var a={id:t.profileObj.googleId,name:t.profileObj.name,email:t.profileObj.email,image:t.profileObj.imageUrl};e.props.googleLogin(a)},e}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(ie.a,{clientId:"774983211870-m6j8ocp25dmndcdk2a643v5vmfad8e4s.apps.googleusercontent.com",render:function(e){return r.a.createElement("div",{className:"google-btn",onClick:e.onClick},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google"})),r.a.createElement("p",{className:"btn-text"},r.a.createElement("b",null,"Sign in with google")))},buttonText:"Login With Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,className:"signInButton"}))}}]),a}(n.Component));pe.protoTypes={googleLogin:ue.a.func.isRequired};var de=Object(o.b)(null,(function(e){return{googleLogin:function(t){return e(function(e){return function(t){P.a.post("/api/users/oauth",e).then((function(e){return _(e,t)})).catch((function(e){return console.log(e)}))}}(t))}}}))(pe),he=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={newUser:{name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2},history:e.props.history};e.props.registerUser(a)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(M.a)({},n,r))},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(w.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.auth.errors&&this.setState({errors:e.auth.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"register mt-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-3 text-center"},"Sign Up"),r.a.createElement("p",{className:"lead text-center"},"Create your Bazaar account"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:le()("form-control form-control-lg",{"is-invalid":e.name}),placeholder:"Name",name:"name",value:this.state.name,onChange:this.handleChange}),e.name&&r.a.createElement("div",{className:"invalid-feedback"},e.name)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:le()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.handleChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:le()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:le()("form-control form-control-lg",{"is-invalid":e.password2}),placeholder:"Confirm Password",name:"password2",value:this.state.password2,onChange:this.handleChange}),e.password2&&r.a.createElement("div",{className:"invalid-feedback"},e.password2)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"})),r.a.createElement("h1",{className:"display-4 text-center mt-3"},"Or"),r.a.createElement(de,null)))))}}]),a}(n.Component),be=Object(o.b)((function(e){return{auth:B(e)}}),(function(e){return{registerUser:function(t){return e((a=t,function(e){P.a.post("/api/users/register",a.newUser).then((function(e){return a.history.push("/login")})).catch((function(t){return e({type:"GET_ERRORS",payload:t.response.data})}))}));var a}}}))(Object(O.e)(he)),fe=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(be,null))}}]),a}(r.a.Component),Ee=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(M.a)({},n,r))},e.state={email:"",password:"",errors:{}},e}return Object(w.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.auth.errors&&this.setState({errors:e.auth.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"login mt-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-3 text-center"},"Log In"),r.a.createElement("p",{className:"lead text-center"},"Sign in to your Bazaar account"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:le()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",onChange:this.handleChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:le()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",onChange:this.handleChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"})),r.a.createElement("h1",{className:"display-4 text-center mt-3"},"Or"),r.a.createElement(de,null)))))}}]),a}(n.Component),ge=Object(o.b)((function(e){return{auth:B(e)}}),(function(e){return{loginUser:function(t){return e(function(e){return function(t){P.a.post("/api/users/login",e).then((function(e){return _(e,t)})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}(t))}}}))(Object(O.e)(Ee)),ve=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ge,null))}}]),a}(r.a.Component),Ne=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-body bg-info text-white mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"m-auto"},r.a.createElement("img",{className:"rounded-circle",src:this.props.auth.user.image,alt:"",style:{width:"200px"}}))),r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"display-4 text-center"},this.props.auth.user.name),r.a.createElement("p",{className:"lead text-center"},this.props.auth.user.email),r.a.createElement("p",null,this.props.auth.user.contactNo?"+91 "+ +this.props.auth.user.contactNo:""),r.a.createElement("p",null,this.props.auth.user.city?this.props.auth.user.city:""),r.a.createElement("p",null,this.props.auth.user.facebook?r.a.createElement(l.b,{to:this.props.auth.user.facebook,className:"text-white p-2"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"})):r.a.createElement("i",{className:"fab fa-facebook fa-2x p-2",style:{color:"#bbbbbb"}}),this.props.auth.user.youtube?r.a.createElement(l.b,{to:this.props.auth.user.youtube,className:"text-white p-2"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"})):r.a.createElement("i",{className:"fab fa-youtube fa-2x p-2",style:{color:"#bbbbbb"}}),this.props.auth.user.instagram?r.a.createElement(l.b,{to:this.props.auth.user.instagram,className:"text-white p-2"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"})):r.a.createElement("i",{className:"fab fa-instagram fa-2x p-2",style:{color:"#bbbbbb"}}))))))}}]),a}(n.Component),ye=Object(o.b)((function(e){return{auth:B(e)}}))(Object(O.e)(Ne)),xe=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidUpdate",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard mt-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-3"},"Dashboard"),r.a.createElement("p",{className:"lead text-muted"},"Welcome ",this.props.auth.user.name),r.a.createElement("div",{className:"btn-group mb-4",role:"group"},r.a.createElement(l.b,{to:"/editprofile",className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-user-circle text-info mr-1"})," Edit Profile"),r.a.createElement(l.b,{to:"/myads",className:"btn btn-light"},r.a.createElement("i",{className:"fab fa-buysellads text-info mr-1"}),"My Ads"),r.a.createElement(l.b,{to:"/wishlist",className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-heart text-info mr-1"}),"Wishlist")),r.a.createElement(ye,null)))))}}]),a}(r.a.Component),we=Object(o.b)((function(e){return{auth:B(e)}}))(Object(O.e)(xe)),ke=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={newUser:{id:e.state.id,name:e.state.name,city:e.state.city,contactNo:e.state.contactNo,facebook:e.state.facebook,youtube:e.state.youtube,instagram:e.state.instagram},history:e.props.history};e.props.editProfile(a)},e.handleSubmitPhoto=function(t){t.preventDefault();var a={newUser:new FormData(t.target),history:e.props.history};e.props.editProfile(a)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(M.a)({},n,r))},e.state={id:"",name:"",image:"",city:"",contactNo:"",facebook:"",youtube:"",instagram:""},e}return Object(w.a)(a,[{key:"componentDidUpdate",value:function(e){e.auth.isAuthenticated||this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.setState({id:this.props.auth.user.id,name:this.props.auth.user.name,city:this.props.auth.user.city,contactNo:this.props.auth.user.contactNo,facebook:this.props.auth.user.facebook,youtube:this.props.auth.user.youtube,instagram:this.props.auth.user.instagram})}},{key:"render",value:function(){return r.a.createElement("div",{className:"create-profile mt-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement(l.b,{to:"/dashboard",className:"btn btn-light"},"Go Back / Dashboard"),r.a.createElement("h1",{className:"display-4 text-center"},"Edit Your Profile"),r.a.createElement("p",{className:"lead text-center"},"Let's get some information to make your profile stand out"),r.a.createElement("form",{onSubmit:this.handleSubmitPhoto,encType:"multipart/form-data"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("img",{className:"rounded-circle",src:this.props.auth.user.image,alt:"my",style:{width:"200px"}})),r.a.createElement("br",null),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{type:"submit",className:"btn btn-info",id:"inputGroupFileAddon01"},"Change Profile Picture")),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"text",value:this.state.id,name:"id",readOnly:!0,hidden:!0}),r.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange,required:!0}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},""===this.state.image?"Choose file":this.state.image))),r.a.createElement("small",{className:"form-text text-muted"},"Change Your Profile Picture"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"My Name",name:"name",value:this.state.name,onChange:this.handleChange,required:!0}),r.a.createElement("small",{className:"form-text text-muted"},"Enter Your Name")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control form-control-lg",name:"city",value:this.state.city,onChange:this.handleChange},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Delhi"},"Delhi"),r.a.createElement("option",{value:"Bangalore"},"Bangalore"),r.a.createElement("option",{value:"Mumbai"}," Mumbai"),r.a.createElement("option",{value:"Kolkata"},"Kolkata"),r.a.createElement("option",{value:"Chennai"},"Chennai")),r.a.createElement("small",{className:"form-text text-muted"},"Select your city")),r.a.createElement("div",{className:"input-group mb-0"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("h5",null,"+91"))),r.a.createElement("input",{type:"number",className:"form-control form-control-lg",placeholder:"Enter Your Contact Number",name:"contactNo",value:this.state.contactNo,onChange:this.handleChange})),r.a.createElement("small",{className:"form-text text-muted mb-4"},"Enter Your Contact Number"),r.a.createElement("div",{className:"mb-3"},r.a.createElement("button",{type:"button",className:"btn btn-light",disabled:!0},"Add Social Network Links"),r.a.createElement("span",{className:"text-muted"},"Optional")),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-facebook"}))),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Facebook Page URL",name:"facebook",value:this.state.facebook,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-youtube"}))),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"YouTube Channel URL",name:"youtube",value:this.state.youtube,onChange:this.handleChange})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-instagram"}))),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Instagram Page URL",name:"instagram",value:this.state.instagram,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn btn-info col-3"},"Save"),r.a.createElement("button",{className:"btn btn-secondary col-3 ml-2"},"Cancel"))))))}}]),a}(n.Component),je=Object(o.b)((function(e){return{auth:B(e)}}),(function(e){return{editProfile:function(t){return e((a=t,function(e){var t=a.newUser?a.newUser:a;P.a.post("/api/users/editprofile",t).then(function(){var t=Object(G.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(n,e);case 2:r=t.sent,a.history.push("/dashboard"),console.log(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}));var a}}}))(Object(O.e)(ke)),Oe=Object(L.a)([function(e){return e.product}],(function(e){return e})),Ce=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){e.props.history.push("/product/?id=".concat(t.target.id))},e.onDelete=function(e){P.a.post("/api/products/deleteproduct",{id:e.target.id,userId:e.target.getAttribute("userid")}).then((function(e){return window.location.reload()}))},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;P.a.get("api/users/current/".concat(this.props.auth.user.id)).then((function(t){return e.props.getMyProducts(t.data.myProducts)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"my-ads mt-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement(l.b,{to:"/dashboard",className:"btn btn-light"},"Go Back / Dashboard"),r.a.createElement("h1",{className:"display-4 text-center"},"My Ads"),r.a.createElement("p",{className:"lead text-center"},"Give good description for better sales."))))),r.a.createElement("br",null),r.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.props.product.myProducts.length>0?this.props.product.myProducts.map((function(t,a){return r.a.createElement($,{key:a,product:t,onClick:e.onClick,onDelete:e.onDelete})})):""))}}]),a}(n.Component),Se=Object(o.b)((function(e){return{product:Oe(e),auth:B(e)}}),(function(e){return{getMyProducts:function(t){return e(W(t))}}}))(Object(O.e)(Ce)),De=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={newProduct:new FormData(t.target),history:e.props.history};e.props.addProduct(a)},e.handleChange=function(t){var a=t.target.value,n=e.state;n.image.push(a),e.setState(n)},e.state={image:[],errors:{}},e}return Object(w.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated||this.props.history.push("/"),e.product.errors&&this.setState({errors:e.auth.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"add-product mt-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Add Your Product"),r.a.createElement("p",{className:"lead text-center"},"Give good description for better sales."),r.a.createElement("form",{enctype:"multipart/form-data",id:"postad",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:this.props.auth.user.id,name:"id",readOnly:!0,hidden:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:le()("form-control form-control-lg",{"is-invalid":e.title}),placeholder:"Title",name:"title"}),e.title&&r.a.createElement("div",{className:"invalid-feedback"},e.title),r.a.createElement("small",{className:"form-text text-muted"},"Add Title (max 20 words)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control form-control-lg",name:"category"},r.a.createElement("option",{value:"Automobile"},"Automobile"),r.a.createElement("option",{value:"Real-Estate"},"Real Estate"),r.a.createElement("option",{value:"Electronics",selected:!0},"Electronics"),r.a.createElement("option",{value:"Fashion"},"Fasion"),r.a.createElement("option",{value:"Pet"},"Pet"),r.a.createElement("option",{value:"Furniture"},"Furniture")),r.a.createElement("small",{className:"form-text text-muted"},"Select Category")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control form-control-lg",name:"city"},r.a.createElement("option",{value:"Delhi"},"Delhi"),r.a.createElement("option",{value:"Bangalore"},"Bangalore"),r.a.createElement("option",{value:"Mumbai"},"Mumbai"),r.a.createElement("option",{value:"Kolkata"},"Kolkata"),r.a.createElement("option",{value:"Chennai"},"Chennai")),r.a.createElement("small",{className:"form-text text-muted"},"Select your city")),r.a.createElement("div",{className:"input-group mb-0"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("h5",null,"\u20b9"))),r.a.createElement("input",{type:"number",className:le()("form-control form-control-lg",{"is-invalid":e.price}),placeholder:"Enter Amount",name:"price"}),e.price&&r.a.createElement("div",{className:"invalid-feedback"},e.price)),r.a.createElement("small",{className:"form-text text-muted mb-4"},"Enter Price"),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:le()("form-control",{"is-invalid":e.description}),rows:"3",placeholder:"Add Description (max 100 words)",name:"description",form:"postad"}),e.description&&r.a.createElement("div",{className:"invalid-feedback"},e.description),r.a.createElement("small",{className:"form-text text-muted"},"Add Description (max 100 words)")),r.a.createElement("div",null,r.a.createElement("h2",null,"Select Images"),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:le()("custom-file-input",{"is-invalid":e.image1}),id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[0]?this.state.image[0]:"Choose Image"))),e.image1&&r.a.createElement("small",{className:"form-text text-danger"},e.image1),r.a.createElement("small",{className:"form-text text-muted"},"Primary Photo")),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[1]?this.state.image[1]:"Choose Image")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[2]?this.state.image[2]:"Choose Image"))))),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("button",{className:"btn btn-info col-5"},"Save"),r.a.createElement("button",{className:"btn btn-secondary col-5"},"Cancel")))))))}}]),a}(n.Component),Pe=Object(o.b)((function(e){return{auth:B(e),product:Oe(e)}}),(function(e){return{addProduct:function(t){return e(function(e){return function(t){P.a.post("/api/products/addproduct",e.newProduct).then((function(t){return e.history.push("/myads")})).catch((function(e){console.log(e),t({type:"GET_ERRORS",payload:e.response.data})}))}}(t))}}}))(Object(O.e)(De)),Ae=Object(L.a)([function(e){return e.wishlist}],(function(e){return e})),Re=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={productData:{},user:{}},e.onDelete=function(t){P.a.post("/api/products/deleteproduct",{id:t.target.id,userId:t.target.getAttribute("userid")}).then((function(t){return e.props.history.push("/myads")})).catch((function(e){return console.log(e)}))},e.onWishlist=function(t){e.props.auth.isAuthenticated?P.a.post("/api/users/addtowishlist",{id:e.props.auth.user.id,proId:t.target.id}).then((function(t){return e.props.history.push("/wishlist")})).catch((function(e){return console.log(e)})):e.props.history.push("/login")},e.onRemove=function(t){var a={id:e.props.auth.user.id,proId:t.target.id};P.a.post("/api/users/deleteproductfromwishlist",a).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=X.a.parse(this.props.history.location.search);P.a.get("/api/products/singleproduct/".concat(t.id)).then((function(t){P.a.get("/api/users/current/".concat(t.data.user)).then((function(t){return e.setState({user:t.data})})),e.setState({productData:t.data})})).catch((function(t){return e.props.history.push("/")}))}},{key:"render",value:function(){var e=!1,t=this.state.productData,a=this.state.user;return this.props.wishlist.myWishlist.map((function(a){a._id===t._id&&(e=!0)})),r.a.createElement(n.Fragment,null,r.a.createElement("main",{className:"mt-5 pt-4"},r.a.createElement("div",{className:"container dark-grey-text mt-5"},r.a.createElement("div",{className:"row wow fadeIn"},r.a.createElement("div",{className:"col-md-8 mb-4 text-center my-auto"},r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"})),r.a.createElement("div",{className:"carousel-inner"},t.photos?t.photos.map((function(e,t){return r.a.createElement("div",{key:t,className:0===t?"carousel-item active":"carousel-item "},r.a.createElement("img",{className:"d-block w-100",src:e,alt:t}))})):""),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))),r.a.createElement("div",{className:"col-md-4 mb-4"},r.a.createElement("div",{className:"p-4 mt-5"},r.a.createElement("h1",{className:"font-weight-bold mb-4 display-4"},"\u20b9 ",t.price),r.a.createElement("h2",{className:"font-weight-bold mb-5"},t.title),r.a.createElement("table",{className:"table md-5"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("i",{className:"fas fa-list-alt"})),r.a.createElement("td",null,"Category"),r.a.createElement("td",null,t.category)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("i",{className:"fas fa-map-marker-alt"})),r.a.createElement("td",null,"Location"),r.a.createElement("td",null,t.city)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("i",{className:"far fa-calendar-alt"})),r.a.createElement("td",null,"Date"),r.a.createElement("td",null,Date(t.date).slice(0,15))))),this.props.auth.user.id===this.state.productData.user?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger mt-3",onClick:this.onDelete,id:t._id,userid:a._id},r.a.createElement("i",{className:"fas fa-trash",style:{color:"#ffffff"}})," ","delete"),r.a.createElement(l.b,{to:"/editmyad/?id=".concat(t._id)},r.a.createElement("button",{className:"btn btn-primary mt-3 ml-3"},r.a.createElement("i",{className:"fas fa-edit",style:{color:"#ffffff"}})," ","edit"))):e?r.a.createElement("button",{className:"btn btn-danger mt-3",type:"submit",onClick:this.onRemove,id:t._id},r.a.createElement("i",{className:"fas fa-trash",style:{color:"#ffffff"}})," ","Remove from Wishlist"):r.a.createElement("button",{className:"btn btn-info mt-3",type:"submit",onClick:this.onWishlist,id:t._id},r.a.createElement("i",{className:"fas fa-heart",style:{color:"#ffffff"}})," ","Add to Wishlist")))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row d-flex justify-content-center wow fadeIn"},r.a.createElement("div",{className:"col-md-6 text-center"},r.a.createElement("h4",{className:"my-4 h4"},"Description"),r.a.createElement("p",null,t.description))),r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"card card-body bg-info text-white mb-3 col-md-6"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 text-center"},r.a.createElement("img",{className:"rounded-circle",src:"https://www.gravatar.com/avatar/anything?s=200&d=mm",alt:""})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",{className:"text-center"},"Seller Info"),r.a.createElement("h4",{className:"text-center"},a.name),r.a.createElement("p",{className:"text-center"},a.email),r.a.createElement("p",{className:"text-center"},a.contactNo?"+91 ".concat(a.contactNo):""),r.a.createElement("p",{className:"text-center"},a.city?"".concat(a.city):""),r.a.createElement("p",{className:"text-center"},a.facebook?r.a.createElement(l.b,{to:a.facebook,className:"text-white p-2"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"})):r.a.createElement("i",{className:"fab fa-facebook fa-2x p-2",style:{color:"#bbbbbb"}}),a.youtube?r.a.createElement(l.b,{to:a.youtube,className:"text-white p-2"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"})):r.a.createElement("i",{className:"fab fa-youtube fa-2x p-2",style:{color:"#bbbbbb"}}),a.instagram?r.a.createElement(l.b,{to:a.instagram,className:"text-white p-2"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"})):r.a.createElement("i",{className:"fab fa-instagram fa-2x p-2",style:{color:"#bbbbbb"}}))))))))))}}]),a}(n.Component),Ie=Object(o.b)((function(e){return{auth:B(e),wishlist:Ae(e)}}),(function(e){return{}}))(Object(O.e)(Re)),Fe=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ie,null))}}]),a}(n.Component),Ge=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={productData:{},user:{},image:[],errors:{}},e.handleSubmit=function(t){t.preventDefault();var a=new FormData(t.target);P.a.post("/api/products/editproduct",a).then((function(t){return e.props.history.push("/myads")})).catch((function(t){return e.setState({errors:t.response.data})}))},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value,c=e.state.productData;c[n]=r,e.setState({productData:c})},e.handleChangePhoto=function(t){var a=t.target.value,n=e.state;n.image.push(a),e.setState(n)},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=X.a.parse(this.props.history.location.search);P.a.get("/api/products/singleproduct/".concat(t.id)).then((function(t){P.a.get("/api/users/current/".concat(t.data.user)).then((function(t){return e.setState({user:t.data})})),e.setState({productData:t.data})})).catch((function(t){return e.props.history.push("/")}))}},{key:"render",value:function(){var e=this.state.productData,t=this.state.errors;return r.a.createElement("div",{className:"add-product mt-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Add Your Product"),r.a.createElement("p",{className:"lead text-center"},"Give good description for better sales."),r.a.createElement("form",{enctype:"multipart/form-data",id:"postad",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:e._id,name:"id",readOnly:!0,hidden:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:le()("form-control form-control-lg",{"is-invalid":t.title}),placeholder:"Title",name:"title",value:e.title,onChange:this.handleChange}),t.title&&r.a.createElement("div",{className:"invalid-feedback"},t.title),r.a.createElement("small",{className:"form-text text-muted"},"Add Title (max 20 words)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control form-control-lg",name:"category",value:e.category,onChange:this.handleChange},r.a.createElement("option",{value:"Automobile"},"Automobile"),r.a.createElement("option",{value:"Real-Estate"},"Real Estate"),r.a.createElement("option",{value:"Electronics",selected:!0},"Electronics"),r.a.createElement("option",{value:"Fashion"},"Fasion"),r.a.createElement("option",{value:"Pet"},"Pet"),r.a.createElement("option",{value:"Furniture"},"Furniture")),r.a.createElement("small",{className:"form-text text-muted"},"Select Category")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control form-control-lg",name:"city",value:e.city,onChange:this.handleChange},r.a.createElement("option",{value:"Delhi"},"Delhi"),r.a.createElement("option",{value:"Bangalore"},"Bangalore"),r.a.createElement("option",{value:"Mumbai"},"Mumbai"),r.a.createElement("option",{value:"Kolkata"},"Kolkata"),r.a.createElement("option",{value:"Chennai"},"Chennai")),r.a.createElement("small",{className:"form-text text-muted"},"Select your city")),r.a.createElement("div",{className:"input-group mb-0"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("h5",null,"\u20b9"))),r.a.createElement("input",{type:"number",className:le()("form-control form-control-lg",{"is-invalid":t.price}),placeholder:"Enter Amount",name:"price",value:e.price,onChange:this.handleChange}),t.price&&r.a.createElement("div",{className:"invalid-feedback"},t.price)),r.a.createElement("small",{className:"form-text text-muted mb-4"},"Enter Price"),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:le()("form-control",{"is-invalid":t.description}),rows:"3",placeholder:"Add Description (max 100 words)",name:"description",value:e.description,onChange:this.handleChange,form:"postad"}),t.description&&r.a.createElement("div",{className:"invalid-feedback"},t.description),r.a.createElement("small",{className:"form-text text-muted"},"Add Description (max 100 words)")),r.a.createElement("div",null,r.a.createElement("h2",null,"Select Images"),r.a.createElement("h6",{className:"text-danger"},"Note: If you are selecting images, you have to select all the images again"),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:le()("custom-file-input",{"is-invalid":t.image1}),id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChangePhoto}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[0]?this.state.image[0]:"Choose Image"))),t.image1&&r.a.createElement("small",{className:"form-text text-danger"},t.image1),r.a.createElement("small",{className:"form-text text-muted"},"Primary Photo")),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChangePhoto}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[1]?this.state.image[1]:"Choose Image")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChangePhoto}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[2]?this.state.image[2]:"Choose Image"))))),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("button",{className:"btn btn-info col-5"},"Save"),r.a.createElement("button",{className:"btn btn-secondary col-5"},"Cancel")))))))}}]),a}(n.Component),_e=Object(o.b)((function(e){return{auth:B(e)}}),(function(e){return{}}))(Object(O.e)(Ge)),Te=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){e.props.history.push("/product/?id=".concat(t.target.id))},e.onRemove=function(t){var a={id:e.props.auth.user.id,proId:t.target.id};P.a.post("/api/users/deleteproductfromwishlist",a).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/users/current/".concat(this.props.auth.user.id)).then((function(t){return e.props.getWishlist(t.data.myWishlist)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"wishlist mt-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement(l.b,{to:"/dashboard",className:"btn btn-light"},"Go Back / Dashboard"),r.a.createElement("h1",{className:"display-4 text-center"},"My Wishlist"),r.a.createElement("p",{className:"lead text-center"},"Contact the seller soon before the product is sold out"))))),r.a.createElement("br",null),r.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.props.wishlist.myWishlist.length>0?this.props.wishlist.myWishlist.map((function(t,a){return r.a.createElement($,{key:a,product:t,onClick:e.onClick,onRemove:e.onRemove})})):""))}}]),a}(n.Component),We=Object(o.b)((function(e){return{auth:B(e),wishlist:Ae(e)}}),(function(e){return{getWishlist:function(t){return e(U(t))}}}))(Object(O.e)(Te)),Ue=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.jwtToken){R(localStorage.jwtToken);var t=S()(localStorage.jwtToken);this.props.setCurrentUser(t),P.a.get("/api/users/current/".concat(t.id)).then((function(t){return e.props.getMyProducts(t.data.myProducts)})),P.a.get("/api/users/current/".concat(t.id)).then((function(t){return e.props.getWishlist(t.data.myWishlist)}))}}},{key:"render",value:function(){return r.a.createElement(l.a,null,r.a.createElement(H,null),r.a.createElement(O.a,{exact:!0,path:"/",component:ne}),r.a.createElement(O.a,{exact:!0,path:"/results",component:ce}),r.a.createElement(O.a,{exact:!0,path:"/signup",component:fe}),r.a.createElement(O.a,{exact:!0,path:"/login",component:ve}),r.a.createElement(O.a,{path:"/product",component:Fe}),r.a.createElement(O.a,{exact:!0,path:"/dashboard",component:A(we)}),r.a.createElement(O.a,{exact:!0,path:"/editprofile",component:A(je)}),r.a.createElement(O.a,{exact:!0,path:"/myads",component:A(Se)}),r.a.createElement(O.a,{exact:!0,path:"/wishlist",component:A(We)}),r.a.createElement(O.a,{exact:!0,path:"/editmyad",component:A(_e)}),r.a.createElement(O.a,{exact:!0,path:"/postad",component:A(Pe)}),r.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"},"Copyright \xa9 2020 Bazaar"))}}]),a}(r.a.Component),Me=Object(o.b)(null,(function(e){return{setCurrentUser:function(t){return e(T(t))},getMyProducts:function(t){return e(W(t))},getWishlist:function(t){return e(U(t))}}}))(Ue);a(93);s.a.render(r.a.createElement(o.a,{store:y},r.a.createElement(l.a,null,r.a.createElement(Me,null))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.f1339ee0.chunk.js.map