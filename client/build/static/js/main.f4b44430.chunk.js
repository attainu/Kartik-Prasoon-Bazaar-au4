(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/img-2.059715b3.jpg"},50:function(e,t,a){e.exports=a.p+"static/media/logo-white.36c69a89.png"},53:function(e,t,a){e.exports=a(99)},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(25),l=a.n(c),o=a(1),i=a(7),m=a(47),u=a(17),p=a(28),d=a(48),h=a(49),b=a.n(h),f=a(22),E=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},g={isAuthenticated:!1,user:{},errors:{}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(f.a)({},e,{isAuthenticated:!E(t.payload),user:t.payload});case"GET_ERRORS":return Object(f.a)({},e,{errors:t.payload});default:return e}},y={myProducts:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MY_PRODUCTS":return Object(f.a)({},e,{myProducts:t.payload});default:return e}},x={myWishlist:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WISHLIST":return Object(f.a)({},e,{myWishlist:t.payload});default:return e}},k={key:"root",storage:b.a,wishlist:["product","wishlist"]},j=Object(u.c)({auth:v,product:N,wishlist:w}),O=Object(p.a)(k,j),C=[d.a];n=u.a.apply(void 0,C);var S=Object(u.d)(O,n),D=Object(p.b)(S),P=a(2),A=a(3),I=a(5),R=a(4),F=a(21),G=a(27),W=a.n(G),T=a(6),M=a.n(T),U=function(e){var t=function(t){Object(I.a)(n,t);var a=Object(R.a)(n);function n(){return Object(P.a)(this,n),a.apply(this,arguments)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){localStorage.jwtToken||this.props.auth.isAuthenticated||this.props.history.replace("/login")}},{key:"componentDidUpdate",value:function(){this.props.auth.isAuthenticated||this.props.history.replace("/login")}},{key:"render",value:function(){return s.a.createElement(e,this.props)}}]),n}(r.Component);return Object(i.b)((function(e){return{auth:e.auth}}))(t)},_=function(e){e?M.a.defaults.headers.common.Authorization=e:delete M.a.defaults.headers.common.Authorization},L=a(9),B=a.n(L),Y=a(12),K=function(e,t){var a=e.data.token;localStorage.setItem("jwtToken",a),_(a);var n=W()(a);t(z(n))},z=function(e){return{type:"SET_CURRENT_USER",payload:e}},H=function(e){return function(){var t=Object(Y.a)(B.a.mark((function t(a){var n,r,s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=0;case 2:if(!(r<e.length)){t.next=11;break}return t.next=5,M.a.get("/api/products/singleproduct/".concat(e[r]));case 5:s=t.sent,n.push(s.data),e.length===n.length&&a({type:"GET_MY_PRODUCTS",payload:n}),r++,t.next=2;break;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(Y.a)(B.a.mark((function t(a){var n,r,s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=0;case 2:if(!(r<e.length)){t.next=11;break}return t.next=5,M.a.get("/api/products/singleproduct/".concat(e[r]));case 5:s=t.sent,n.push(s.data),e.length===n.length&&a({type:"GET_WISHLIST",payload:n}),r++,t.next=2;break;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=a(18),V=a(23),Q=Object(V.a)([function(e){return e.auth}],(function(e){return e})),X=a(50),Z=a.n(X),$=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(P.a)(this,a),(e=t.call(this)).onSubmit=function(t){t.preventDefault();var a=e.state.search;e.props.history.push("/results/?search=".concat(a)),e.setState({search:""})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(J.a)({},n,r))},e.state={search:""},e}return Object(A.a)(a,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"#",onClick:this.onLogoutClick.bind(this),className:"nav-link"},s.a.createElement("img",{className:"rounded-circle",src:a.image,alt:a.name,style:{width:"25px",marginRight:"5px"},title:"You must have a Gravatar connected to your email to display an image"})," ","Logout")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{className:"nav-link",to:"/dashboard"},"Dashboard")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{className:"nav-link",to:"/postad"},"Post Ad"))),r=s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{className:"nav-link",to:"/signup"},"Sign Up")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{className:"nav-link",to:"/login"},"Login")));return s.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark sticky-top display"},s.a.createElement("div",{className:"col-2"},s.a.createElement(o.b,{className:"navbar-brand",to:"/"},s.a.createElement("img",{src:Z.a,alt:"logo",style:{width:"9rem"}}))),s.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbar-menu"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar-menu"},s.a.createElement("div",{className:"nav-item dropdown"},s.a.createElement(o.b,{to:"#",className:"nav-link dropdown-toggle text-white","data-toggle":"dropdown"},"Select City"),s.a.createElement("div",{className:"dropdown-menu"},s.a.createElement(o.b,{to:"/results/?city=Delhi",className:"dropdown-item"},"Delhi"),s.a.createElement(o.b,{to:"/results/?city=Mumbai",className:"dropdown-item"},"Mumbai"),s.a.createElement(o.b,{to:"/results/?city=Kolkata",className:"dropdown-item"},"Kolkata"),s.a.createElement(o.b,{to:"/results/?city=Bangalore",className:"dropdown-item"},"Bengaluru"),s.a.createElement(o.b,{to:"/results/?city=Chennai",className:"dropdown-item"},"Chennai"))),s.a.createElement("form",{className:"form-inline mx-auto",onSubmit:this.onSubmit},s.a.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search",size:"50",name:"search",onChange:this.handleChange,value:this.state.search}),s.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0",type:"submit"},"Search")),t?n:r))}}]),a}(r.Component),ee=Object(i.b)((function(e){return{auth:Q(e)}}),(function(e){return{logoutUser:function(){return e((function(e){localStorage.removeItem("jwtToken"),_(!1),e(z({}))}))}}}))(Object(F.e)($)),te=a(10),ae=a.n(te),ne=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar navbar-expand-sm bg-light   border border-dark  navbar-light nav-fill ",style:{height:"5vh"}},s.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"collapse_target",hidden:!0}),s.a.createElement("div",{className:"collapse navbar-collapse"},s.a.createElement(o.b,{to:"/results/?category=Automobile",className:"nav-item nav-link text-body"},"Automobiles"),s.a.createElement(o.b,{to:"/results/?category=Real-Estate",className:"nav-item nav-link text-body"},"Real Estate"),s.a.createElement(o.b,{to:"/results/?category=Electronics",className:"nav-item nav-link text-body"},"Electronics"),s.a.createElement(o.b,{to:"/results/?category=Fashion",className:"nav-item nav-link text-body"},"Fashion"),s.a.createElement(o.b,{to:"/results/?category=Pet",className:"nav-item nav-link text-body"},"Pet"),s.a.createElement(o.b,{to:"/results/?category=Furniture",className:"nav-item nav-link text-body"},"Furniture"))))}}]),a}(r.Component),re=a(29),se=a.n(re),ce=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel",style:{height:"60vh"}},s.a.createElement("ol",{className:"carousel-indicators"},s.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),s.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),s.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),s.a.createElement("div",{className:"carousel-inner",style:{height:"60vh"}},s.a.createElement("div",{className:"carousel-item active"},s.a.createElement("img",{src:se.a,className:"tales img-fluid",alt:"..."})),s.a.createElement("div",{className:"carousel-item",style:{height:"60vh"}},s.a.createElement("img",{src:se.a,className:"tales img-fluid",alt:"..."})),s.a.createElement("div",{className:"carousel-item",style:{height:"60vh"}},s.a.createElement("img",{src:se.a,className:"tales img-fluid",alt:"..."}))),s.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev",style:{height:"60vh"}},s.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Previous")),s.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next",style:{height:"60vh"}},s.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Next")))}}]),a}(r.Component),le=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mt-3 mb-3"},s.a.createElement("div",{className:"card border-dark",style:{boxShadow:"4px 4px 4px 4px #c5c5c5"}},s.a.createElement("img",{className:"card-img-top",src:this.props.product.photos[0],style:{height:"20rem"},alt:"product"}),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",{className:"d-inline-block"},s.a.createElement("h4",{className:"card-title"},"\u20b9 ",this.props.product.price)),s.a.createElement("div",{className:"d-inline-block"},s.a.createElement("h5",{className:"card-subtitle text-muted pt-2"},this.props.product.category))),s.a.createElement("div",{className:"mb-3"},s.a.createElement("h6",{className:"card-text"},this.props.product.title),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("span",{className:"card-text"},this.props.product.city),s.a.createElement("span",{className:"card-text"},Date(this.props.product.date).slice(3,15)))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("button",{className:"btn btn-outline-info col-5",id:this.props.product._id,onClick:this.props.onClick},"More Info"),this.props.onDelete?s.a.createElement("button",{className:"btn btn-outline-danger col-5",id:this.props.product._id,userid:this.props.product.user,onClick:this.props.onDelete},"Delete"):"",this.props.onWishlist?s.a.createElement("button",{className:this.props.product.user!==this.props.userId?"btn btn-outline-success col-5":"btn btn-secondary col-5 disabled",id:this.props.product._id,onClick:this.props.product.user!==this.props.userId?this.props.onWishlist:null},this.props.product.user!==this.props.userId?"Add to Wishlist":"Your Product"):"",this.props.onRemove?s.a.createElement("button",{className:"btn btn-outline-danger col-5",id:this.props.product._id,onClick:this.props.onRemove},"Remove"):""))))}}]),a}(r.Component),oe=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(A.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=Object(Y.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae.a.parse(this.props.history.location.search).page?this.setState({value:ae.a.parse(this.props.history.location.search)}):this.setState({value:{page:"1"}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"mt-3"},s.a.createElement("nav",{"aria-label":"Page navigation example"},s.a.createElement("ul",{className:"pagination justify-content-center"},s.a.createElement("li",{className:"page-item"},s.a.createElement(o.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(this.state.value.page>1?this.state.value.page-1:"1"),"aria-label":"Previous"},s.a.createElement("span",{"aria-hidden":"true"},"\xab"),s.a.createElement("span",{className:"sr-only"},"Previous"))),this.state.value.page>1?s.a.createElement("li",{className:"page-item"},s.a.createElement(o.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(this.state.value.page-1)},this.state.value.page-1)):"",s.a.createElement("li",{className:"page-item active"},s.a.createElement("p",{className:"page-link"},s.a.createElement("span",{className:"sr-only"},"(current)")," ",this.state.value.page)),s.a.createElement("li",{className:"page-item"},s.a.createElement(o.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(parseInt(this.state.value.page)+1)},parseInt(this.state.value.page)+1)),s.a.createElement("li",{className:"page-item"},s.a.createElement(o.b,{className:"page-link",to:"".concat(this.props.url,"?page=").concat(parseInt(this.state.value.page)+1),"aria-label":"Next"},s.a.createElement("span",{"aria-hidden":"true"},"\xbb"),s.a.createElement("span",{className:"sr-only"},"Next"))))))}}]),a}(r.Component),ie=Object(F.e)(oe),me=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={productsHomePage:[],value:""},e.onClick=function(t){e.props.history.push("/product/?id=".concat(t.target.id))},e.onWishlist=function(t){e.props.auth.isAuthenticated?M.a.post("/api/users/addtowishlist",{id:e.props.auth.user.id,proId:t.target.id}).then((function(t){return e.props.history.push("/wishlist")})).catch((function(e){return console.log(e)})):e.props.history.push("/login")},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ae.a.parse(this.props.history.location.search),e.prev=1,e.next=4,M.a.get("/api/products/allproducts/".concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({productsHomePage:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(Y.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ae.a.parse(this.props.history.location.search),e.prev=1,e.next=4,M.a.get("/api/products/allproducts/".concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({productsHomePage:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(ne,null),s.a.createElement(ce,null),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.state.productsHomePage.map((function(t,a){return s.a.createElement(le,{key:a,product:t,onClick:e.onClick,onWishlist:e.onWishlist,userId:e.props.auth.user.id})}))),s.a.createElement(ie,{url:"/"}))}}]),a}(s.a.Component),ue=Object(i.b)((function(e){return{auth:Q(e)}}))(Object(F.e)(me)),pe=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.onClick=function(t){e.props.history.push("/product/?id=".concat(t.target.id))},e.onWishlist=function(t){e.props.auth.isAuthenticated?M.a.post("/api/users/addtowishlist",{id:e.props.auth.user.id,proId:t.target.id}).then((function(t){return e.props.history.push("/wishlist")})).catch((function(e){return console.log(e)})):e.props.history.push("/login")},e.onSort=function(t){var a=t.target.getAttribute("criteria"),n=t.target.id,r=ae.a.parse(e.props.history.location.search);r[a]=n,r=ae.a.stringify(r),e.props.history.push({pathname:"/results",search:"?"+r})},e.clear=function(){e.props.history.push("/results")},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ae.a.parse(this.props.history.location.search),e.prev=1,e.next=4,M.a.get("/api/products/results/?city=".concat(t.city,"&category=").concat(t.category,"&title=").concat(t.search,"&page=").concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({products:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(Y.a)(B.a.mark((function e(){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ae.a.parse(this.props.history.location.search),e.prev=1,e.next=4,M.a.get("/api/products/results/?city=".concat(t.city,"&category=").concat(t.category,"&title=").concat(t.search,"&page=").concat(t.page?t.page:"1"));case 4:a=e.sent,this.setState({products:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"bg-light"},s.a.createElement("nav",{className:"row col-11 navbar ml-1"},s.a.createElement("div",{className:"btn-group col-2"},s.a.createElement("button",{type:"button",className:"btn btn-light",disabled:!0},s.a.createElement("h5",{className:"font-weight-bolder"},"SORT BY :"))),s.a.createElement("div",{className:"btn-group col-3"},s.a.createElement("button",{type:"button",className:"btn btn-outline-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Category"),s.a.createElement("div",{className:"dropdown-menu"},s.a.createElement("button",{onClick:this.onSort,className:"dropdown-item",criteria:"category",id:"Automobile"},"Automobile"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Real-Estate"},"Real Estate"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Electronics"},"Electronic"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Fashion"},"Fashion"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Pet"},"Pet"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"category",id:"Furniture"},"Furniture"))),s.a.createElement("div",{className:"btn-group col-3"},s.a.createElement("button",{type:"button",className:"btn btn-outline-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Location"),s.a.createElement("div",{className:"dropdown-menu"},s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Delhi"},"Delhi"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Mumbai"},"Mumbai"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Bangalore"},"Bangalore"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Kolkata"},"Kolkata"),s.a.createElement("button",{className:"dropdown-item",onClick:this.onSort,criteria:"city",id:"Chennai"},"Chennai"))),s.a.createElement("div",{className:"btn-group col-3"},s.a.createElement("button",{type:"button",onClick:this.clear,className:"btn btn-outline-danger"},"Reset"))),s.a.createElement("nav",{className:"row col-11 navbar ml-1"},s.a.createElement("div",{className:"btn-group col-2"},s.a.createElement("button",{type:"button",className:"btn btn-light",disabled:!0},s.a.createElement("h5",{className:"font-weight-bolder"},"RESULTS FOR :"))),s.a.createElement("div",{className:"btn-group col-3"},s.a.createElement("button",{type:"button",className:"btn btn-outline-info",disabled:!0},ae.a.parse(this.props.history.location.search).category?ae.a.parse(this.props.history.location.search).category:"-")),s.a.createElement("div",{className:"btn-group col-3"},s.a.createElement("button",{type:"button",className:"btn btn-outline-info",disabled:!0},ae.a.parse(this.props.history.location.search).city?ae.a.parse(this.props.history.location.search).city:"-")),s.a.createElement("div",{className:"btn-group col-3"},s.a.createElement("button",{type:"button",className:"btn btn-outline-info",disabled:!0},ae.a.parse(this.props.history.location.search).search?ae.a.parse(this.props.history.location.search).search:"-")))),s.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.state.products.map((function(t,a){return s.a.createElement(le,{key:a,product:t,onClick:e.onClick,onWishlist:e.onWishlist})}))),s.a.createElement(ie,{url:"/results/"}))}}]),a}(s.a.Component),de=Object(i.b)((function(e){return{auth:Q(e)}}))(Object(F.e)(pe)),he=a(11),be=a.n(he),fe=a(52),Ee=a.n(fe),ge=a(20),ve=a.n(ge),ye=(a(97),function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).responseGoogle=function(t){var a={id:t.profileObj.googleId,name:t.profileObj.name,email:t.profileObj.email,image:t.profileObj.imageUrl};e.props.googleLogin(a)},e}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement(Ee.a,{clientId:"774983211870-m6j8ocp25dmndcdk2a643v5vmfad8e4s.apps.googleusercontent.com",render:function(e){return s.a.createElement("div",{className:"google-btn",onClick:e.onClick},s.a.createElement("div",{className:"google-icon-wrapper"},s.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google"})),s.a.createElement("p",{className:"btn-text"},s.a.createElement("b",null,"Sign in with google")))},buttonText:"Login With Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,className:"signInButton"}))}}]),a}(r.Component));ye.protoTypes={googleLogin:ve.a.func.isRequired};var Ne=Object(i.b)(null,(function(e){return{googleLogin:function(t){return e(function(e){return function(t){M.a.post("/api/users/oauth",e).then((function(e){return K(e,t)})).catch((function(e){return console.log(e)}))}}(t))}}}))(ye),xe=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(P.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={newUser:{name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2},history:e.props.history};e.props.registerUser(a)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(J.a)({},n,r))},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(A.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.auth.errors&&this.setState({errors:e.auth.errors})}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"register mt-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-auto"},s.a.createElement("h1",{className:"display-3 text-center"},"Sign Up"),s.a.createElement("p",{className:"lead text-center"},"Create your Bazaar account"),s.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:be()("form-control form-control-lg",{"is-invalid":e.name}),placeholder:"Name",name:"name",value:this.state.name,onChange:this.handleChange}),e.name&&s.a.createElement("div",{className:"invalid-feedback"},e.name)),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",className:be()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.handleChange}),e.email&&s.a.createElement("div",{className:"invalid-feedback"},e.email)),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",className:be()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),e.password&&s.a.createElement("div",{className:"invalid-feedback"},e.password)),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",className:be()("form-control form-control-lg",{"is-invalid":e.password2}),placeholder:"Confirm Password",name:"password2",value:this.state.password2,onChange:this.handleChange}),e.password2&&s.a.createElement("div",{className:"invalid-feedback"},e.password2)),s.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"})),s.a.createElement("h1",{className:"display-4 text-center mt-3"},"Or"),s.a.createElement(Ne,null)))))}}]),a}(r.Component),we=Object(i.b)((function(e){return{auth:Q(e)}}),(function(e){return{registerUser:function(t){return e((a=t,function(e){M.a.post("/api/users/register",a.newUser).then((function(e){return a.history.push("/login")})).catch((function(t){return e({type:"GET_ERRORS",payload:t.response.data})}))}));var a}}}))(Object(F.e)(xe)),ke=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(we,null))}}]),a}(s.a.Component),je=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(P.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(J.a)({},n,r))},e.state={email:"",password:"",errors:{}},e}return Object(A.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.auth.errors&&this.setState({errors:e.auth.errors})}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"login mt-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-auto"},s.a.createElement("h1",{className:"display-3 text-center"},"Log In"),s.a.createElement("p",{className:"lead text-center"},"Sign in to your Bazaar account"),s.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",className:be()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",onChange:this.handleChange}),e.email&&s.a.createElement("div",{className:"invalid-feedback"},e.email)),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",className:be()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",onChange:this.handleChange}),e.password&&s.a.createElement("div",{className:"invalid-feedback"},e.password)),s.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"})),s.a.createElement("h1",{className:"display-4 text-center mt-3"},"Or"),s.a.createElement(Ne,null)))))}}]),a}(r.Component),Oe=Object(i.b)((function(e){return{auth:Q(e)}}),(function(e){return{loginUser:function(t){return e(function(e){return function(t){M.a.post("/api/users/login",e).then((function(e){return K(e,t)})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}(t))}}}))(Object(F.e)(je)),Ce=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Oe,null))}}]),a}(s.a.Component),Se=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card card-body bg-info text-white mb-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"m-auto"},s.a.createElement("img",{className:"rounded-circle",src:this.props.auth.user.image,alt:"",style:{width:"200px"}}))),s.a.createElement("div",{className:"text-center"},s.a.createElement("h1",{className:"display-4 text-center"},this.props.auth.user.name),s.a.createElement("p",{className:"lead text-center"},this.props.auth.user.email),s.a.createElement("p",null,this.props.auth.user.contactNo?"+91 "+ +this.props.auth.user.contactNo:""),s.a.createElement("p",null,this.props.auth.user.city?this.props.auth.user.city:""),s.a.createElement("p",null,this.props.auth.user.facebook?s.a.createElement(o.b,{to:this.props.auth.user.facebook,className:"text-white p-2"},s.a.createElement("i",{className:"fab fa-facebook fa-2x"})):s.a.createElement("i",{className:"fab fa-facebook fa-2x p-2",style:{color:"#bbbbbb"}}),this.props.auth.user.youtube?s.a.createElement(o.b,{to:this.props.auth.user.youtube,className:"text-white p-2"},s.a.createElement("i",{className:"fab fa-youtube fa-2x"})):s.a.createElement("i",{className:"fab fa-youtube fa-2x p-2",style:{color:"#bbbbbb"}}),this.props.auth.user.instagram?s.a.createElement(o.b,{to:this.props.auth.user.instagram,className:"text-white p-2"},s.a.createElement("i",{className:"fab fa-instagram fa-2x"})):s.a.createElement("i",{className:"fab fa-instagram fa-2x p-2",style:{color:"#bbbbbb"}}))))))}}]),a}(r.Component),De=Object(i.b)((function(e){return{auth:Q(e)}}))(Object(F.e)(Se)),Pe=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentDidUpdate",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement("div",{className:"dashboard mt-4"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"display-3"},"Dashboard"),s.a.createElement("p",{className:"lead text-muted"},"Welcome ",this.props.auth.user.name),s.a.createElement("div",{className:"btn-group mb-4",role:"group"},s.a.createElement(o.b,{to:"/editprofile",className:"btn btn-light"},s.a.createElement("i",{className:"fas fa-user-circle text-info mr-1"})," Edit Profile"),s.a.createElement(o.b,{to:"/myads",className:"btn btn-light"},s.a.createElement("i",{className:"fab fa-buysellads text-info mr-1"}),"My Ads"),s.a.createElement(o.b,{to:"/wishlist",className:"btn btn-light"},s.a.createElement("i",{className:"fas fa-heart text-info mr-1"}),"Wishlist")),s.a.createElement(De,null)))))}}]),a}(s.a.Component),Ae=Object(i.b)((function(e){return{auth:Q(e)}}))(Object(F.e)(Pe)),Ie=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(P.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={newUser:{id:e.state.id,name:e.state.name,city:e.state.city,contactNo:e.state.contactNo,facebook:e.state.facebook,youtube:e.state.youtube,instagram:e.state.instagram},history:e.props.history};e.props.editProfile(a)},e.handleSubmitPhoto=function(t){t.preventDefault();var a={newUser:new FormData(t.target),history:e.props.history};e.props.editProfile(a)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(J.a)({},n,r))},e.state={id:"",name:"",image:"",city:"",contactNo:"",facebook:"",youtube:"",instagram:""},e}return Object(A.a)(a,[{key:"componentDidUpdate",value:function(e){e.auth.isAuthenticated||this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.setState({id:this.props.auth.user.id,name:this.props.auth.user.name,city:this.props.auth.user.city,contactNo:this.props.auth.user.contactNo,facebook:this.props.auth.user.facebook,youtube:this.props.auth.user.youtube,instagram:this.props.auth.user.instagram})}},{key:"render",value:function(){return s.a.createElement("div",{className:"create-profile mt-4"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-auto"},s.a.createElement(o.b,{to:"/dashboard",className:"btn btn-light"},"Go Back / Dashboard"),s.a.createElement("h1",{className:"display-4 text-center"},"Edit Your Profile"),s.a.createElement("p",{className:"lead text-center"},"Let's get some information to make your profile stand out"),s.a.createElement("form",{onSubmit:this.handleSubmitPhoto,encType:"multipart/form-data"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",null,s.a.createElement("img",{className:"rounded-circle",src:this.props.auth.user.image,alt:"my",style:{width:"200px"}})),s.a.createElement("br",null),s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{type:"submit",className:"btn btn-info",id:"inputGroupFileAddon01"},"Change Profile Picture")),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"text",value:this.state.id,name:"id",readOnly:!0,hidden:!0}),s.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange,required:!0}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},""===this.state.image?"Choose file":this.state.image))),s.a.createElement("small",{className:"form-text text-muted"},"Change Your Profile Picture"))),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"My Name",name:"name",value:this.state.name,onChange:this.handleChange,required:!0}),s.a.createElement("small",{className:"form-text text-muted"},"Enter Your Name")),s.a.createElement("div",{className:"form-group"},s.a.createElement("select",{className:"form-control form-control-lg",name:"city",value:this.state.city,onChange:this.handleChange},s.a.createElement("option",{value:""}),s.a.createElement("option",{value:"Delhi"},"Delhi"),s.a.createElement("option",{value:"Bangalore"},"Bangalore"),s.a.createElement("option",{value:"Mumbai"}," Mumbai"),s.a.createElement("option",{value:"Kolkata"},"Kolkata"),s.a.createElement("option",{value:"Chennai"},"Chennai")),s.a.createElement("small",{className:"form-text text-muted"},"Select your city")),s.a.createElement("div",{className:"input-group mb-0"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement("h5",null,"+91"))),s.a.createElement("input",{type:"number",className:"form-control form-control-lg",placeholder:"Enter Your Contact Number",name:"contactNo",value:this.state.contactNo,onChange:this.handleChange})),s.a.createElement("small",{className:"form-text text-muted mb-4"},"Enter Your Contact Number"),s.a.createElement("div",{className:"mb-3"},s.a.createElement("button",{type:"button",className:"btn btn-light",disabled:!0},"Add Social Network Links"),s.a.createElement("span",{className:"text-muted"},"Optional")),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement("i",{className:"fab fa-facebook"}))),s.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Facebook Page URL",name:"facebook",value:this.state.facebook,onChange:this.handleChange})),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement("i",{className:"fab fa-youtube"}))),s.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"YouTube Channel URL",name:"youtube",value:this.state.youtube,onChange:this.handleChange})),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement("i",{className:"fab fa-instagram"}))),s.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Instagram Page URL",name:"instagram",value:this.state.instagram,onChange:this.handleChange})),s.a.createElement("br",null),s.a.createElement("button",{type:"submit",className:"btn btn-info col-3"},"Save"),s.a.createElement("button",{className:"btn btn-secondary col-3 ml-2"},"Cancel"))))))}}]),a}(r.Component),Re=Object(i.b)((function(e){return{auth:Q(e)}}),(function(e){return{editProfile:function(t){return e((a=t,function(e){var t=a.newUser?a.newUser:a;M.a.post("/api/users/editprofile",t).then(function(){var t=Object(Y.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(n,e);case 2:r=t.sent,a.history.push("/dashboard"),console.log(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}));var a}}}))(Object(F.e)(Ie)),Fe=Object(V.a)([function(e){return e.product}],(function(e){return e})),Ge=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){e.props.history.push("/product/?id=".concat(t.target.id))},e.onDelete=function(e){M.a.post("/api/products/deleteproduct",{id:e.target.id,userId:e.target.getAttribute("userid")}).then((function(e){return window.location.reload()}))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=this;M.a.get("api/users/current/".concat(this.props.auth.user.id)).then((function(t){return e.props.getMyProducts(t.data.myProducts)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"my-ads mt-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-auto"},s.a.createElement(o.b,{to:"/dashboard",className:"btn btn-light"},"Go Back / Dashboard"),s.a.createElement("h1",{className:"display-4 text-center"},"My Ads"),s.a.createElement("p",{className:"lead text-center"},"Give good description for better sales."))))),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.props.product.myProducts.length>0?this.props.product.myProducts.map((function(t,a){return s.a.createElement(le,{key:a,product:t,onClick:e.onClick,onDelete:e.onDelete})})):""))}}]),a}(r.Component),We=Object(i.b)((function(e){return{product:Fe(e),auth:Q(e)}}),(function(e){return{getMyProducts:function(t){return e(H(t))}}}))(Object(F.e)(Ge)),Te=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(P.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a=new FormData(t.target);M.a.post("/api/products/addproduct",a).then((function(t){return e.props.history.push("/myads")})).catch((function(t){return e.setState({errors:t.response.data})}))},e.handleChange=function(t){var a=t.target.value,n=e.state;n.image.push(a),e.setState(n)},e.state={image:[],errors:{}},e}return Object(A.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated||this.props.history.push("/"),e.product.errors&&this.setState({errors:e.auth.errors})}},{key:"render",value:function(){var e=this.state.errors;return s.a.createElement("div",{className:"add-product mt-4"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-auto"},s.a.createElement("h1",{className:"display-4 text-center"},"Add Your Product"),s.a.createElement("p",{className:"lead text-center"},"Give good description for better sales."),s.a.createElement("form",{enctype:"multipart/form-data",id:"postad",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",value:this.props.auth.user.id,name:"id",readOnly:!0,hidden:!0}),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:be()("form-control form-control-lg",{"is-invalid":e.title}),placeholder:"Title",name:"title"}),e.title&&s.a.createElement("div",{className:"invalid-feedback"},e.title),s.a.createElement("small",{className:"form-text text-muted"},"Add Title (max 20 words)")),s.a.createElement("div",{className:"form-group"},s.a.createElement("select",{className:"form-control form-control-lg",name:"category"},s.a.createElement("option",{value:"Automobile"},"Automobile"),s.a.createElement("option",{value:"Real-Estate"},"Real Estate"),s.a.createElement("option",{value:"Electronics",selected:!0},"Electronics"),s.a.createElement("option",{value:"Fashion"},"Fasion"),s.a.createElement("option",{value:"Pet"},"Pet"),s.a.createElement("option",{value:"Furniture"},"Furniture")),s.a.createElement("small",{className:"form-text text-muted"},"Select Category")),s.a.createElement("div",{className:"form-group"},s.a.createElement("select",{className:"form-control form-control-lg",name:"city"},s.a.createElement("option",{value:"Delhi"},"Delhi"),s.a.createElement("option",{value:"Bangalore"},"Bangalore"),s.a.createElement("option",{value:"Mumbai"},"Mumbai"),s.a.createElement("option",{value:"Kolkata"},"Kolkata"),s.a.createElement("option",{value:"Chennai"},"Chennai")),s.a.createElement("small",{className:"form-text text-muted"},"Select your city")),s.a.createElement("div",{className:"input-group mb-0"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement("h5",null,"\u20b9"))),s.a.createElement("input",{type:"number",className:be()("form-control form-control-lg",{"is-invalid":e.price}),placeholder:"Enter Amount",name:"price"}),e.price&&s.a.createElement("div",{className:"invalid-feedback"},e.price)),s.a.createElement("small",{className:"form-text text-muted mb-4"},"Enter Price"),s.a.createElement("div",{className:"form-group"},s.a.createElement("textarea",{className:be()("form-control",{"is-invalid":e.description}),rows:"3",placeholder:"Add Description (max 100 words)",name:"description",form:"postad"}),e.description&&s.a.createElement("div",{className:"invalid-feedback"},e.description),s.a.createElement("small",{className:"form-text text-muted"},"Add Description (max 100 words)")),s.a.createElement("div",null,s.a.createElement("h2",null,"Select Images"),s.a.createElement("div",{className:"form-group"},s.a.createElement("br",null),s.a.createElement("div",{class:"input-group"},s.a.createElement("div",{class:"custom-file"},s.a.createElement("input",{type:"file",class:be()("custom-file-input",{"is-invalid":e.image1}),id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange}),s.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[0]?this.state.image[0]:"Choose Image"))),e.image1&&s.a.createElement("small",{className:"form-text text-danger"},e.image1),s.a.createElement("small",{className:"form-text text-muted"},"Primary Photo")),s.a.createElement("div",{className:"form-group"},s.a.createElement("br",null),s.a.createElement("div",{class:"input-group"},s.a.createElement("div",{class:"custom-file"},s.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange}),s.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[1]?this.state.image[1]:"Choose Image")))),s.a.createElement("div",{className:"form-group"},s.a.createElement("br",null),s.a.createElement("div",{class:"input-group"},s.a.createElement("div",{class:"custom-file"},s.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChange}),s.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[2]?this.state.image[2]:"Choose Image"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-around"},s.a.createElement("button",{className:"btn btn-info col-5"},"Save"),s.a.createElement("button",{className:"btn btn-secondary col-5"},"Cancel")))))))}}]),a}(r.Component),Me=Object(i.b)((function(e){return{auth:Q(e),product:Fe(e)}}),(function(e){return{}}))(Object(F.e)(Te)),Ue=Object(V.a)([function(e){return e.wishlist}],(function(e){return e})),_e=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={productData:{},user:{}},e.onDelete=function(t){M.a.post("/api/products/deleteproduct",{id:t.target.id,userId:t.target.getAttribute("userid")}).then((function(t){return e.props.history.push("/myads")})).catch((function(e){return console.log(e)}))},e.onWishlist=function(t){e.props.auth.isAuthenticated?M.a.post("/api/users/addtowishlist",{id:e.props.auth.user.id,proId:t.target.id}).then((function(t){return e.props.history.push("/wishlist")})).catch((function(e){return console.log(e)})):e.props.history.push("/login")},e.onRemove=function(t){var a={id:e.props.auth.user.id,proId:t.target.id};M.a.post("/api/users/deleteproductfromwishlist",a).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ae.a.parse(this.props.history.location.search);M.a.get("/api/products/singleproduct/".concat(t.id)).then((function(t){M.a.get("/api/users/current/".concat(t.data.user)).then((function(t){return e.setState({user:t.data})})),e.setState({productData:t.data})})).catch((function(t){return e.props.history.push("/")}))}},{key:"render",value:function(){var e=!1,t=this.state.productData,a=this.state.user;return this.props.wishlist.myWishlist.map((function(a){a._id===t._id&&(e=!0)})),s.a.createElement(r.Fragment,null,s.a.createElement("main",{className:"mt-5 pt-4"},s.a.createElement("div",{className:"container dark-grey-text mt-5"},s.a.createElement("div",{className:"row wow fadeIn"},s.a.createElement("div",{className:"col-md-8 mb-4 text-center my-auto"},s.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},s.a.createElement("ol",{className:"carousel-indicators"},s.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),s.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"})),s.a.createElement("div",{className:"carousel-inner"},t.photos?t.photos.map((function(e,t){return s.a.createElement("div",{key:t,className:0===t?"carousel-item active":"carousel-item "},s.a.createElement("img",{className:"d-block w-100",src:e,alt:t}))})):""),s.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},s.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Previous")),s.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},s.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Next")))),s.a.createElement("div",{className:"col-md-4 mb-4"},s.a.createElement("div",{className:"p-4 mt-5"},s.a.createElement("h1",{className:"font-weight-bold mb-4 display-4"},"\u20b9 ",t.price),s.a.createElement("h2",{className:"font-weight-bold mb-5"},t.title),s.a.createElement("table",{className:"table md-5"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},s.a.createElement("i",{className:"fas fa-list-alt"})),s.a.createElement("td",null,"Category"),s.a.createElement("td",null,t.category)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},s.a.createElement("i",{className:"fas fa-map-marker-alt"})),s.a.createElement("td",null,"Location"),s.a.createElement("td",null,t.city)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},s.a.createElement("i",{className:"far fa-calendar-alt"})),s.a.createElement("td",null,"Date"),s.a.createElement("td",null,Date(t.date).slice(0,15))))),this.props.auth.user.id===this.state.productData.user?s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-danger mt-3",onClick:this.onDelete,id:t._id,userid:a._id},s.a.createElement("i",{className:"fas fa-trash",style:{color:"#ffffff"}})," ","delete"),s.a.createElement(o.b,{to:"/editmyad/?id=".concat(t._id)},s.a.createElement("button",{className:"btn btn-primary mt-3 ml-3"},s.a.createElement("i",{className:"fas fa-edit",style:{color:"#ffffff"}})," ","edit"))):e?s.a.createElement("button",{className:"btn btn-danger mt-3",type:"submit",onClick:this.onRemove,id:t._id},s.a.createElement("i",{className:"fas fa-trash",style:{color:"#ffffff"}})," ","Remove from Wishlist"):s.a.createElement("button",{className:"btn btn-info mt-3",type:"submit",onClick:this.onWishlist,id:t._id},s.a.createElement("i",{className:"fas fa-heart",style:{color:"#ffffff"}})," ","Add to Wishlist")))),s.a.createElement("hr",null),s.a.createElement("div",{className:"row d-flex justify-content-center wow fadeIn"},s.a.createElement("div",{className:"col-md-6 text-center"},s.a.createElement("h4",{className:"my-4 h4"},"Description"),s.a.createElement("p",null,t.description))),s.a.createElement("div",{className:"d-flex justify-content-center mt-5"},s.a.createElement("div",{className:"card card-body bg-info text-white mb-3 col-md-6"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 text-center"},s.a.createElement("img",{className:"rounded-circle",src:a.image?a.image:"https://www.gravatar.com/avatar/anything?s=200&d=mm",style:{width:"150px"},alt:""})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("h2",{className:"text-center"},"Seller Info"),s.a.createElement("h4",{className:"text-center"},a.name?"":"You have to be logged to see the user info"),s.a.createElement("h4",{className:"text-center"},a.name),s.a.createElement("p",{className:"text-center"},a.email),s.a.createElement("p",{className:"text-center"},a.contactNo?"+91 ".concat(a.contactNo):""),s.a.createElement("p",{className:"text-center"},a.city?"".concat(a.city):""),s.a.createElement("p",{className:"text-center"},a.facebook?s.a.createElement(o.b,{to:a.facebook,className:"text-white p-2"},s.a.createElement("i",{className:"fab fa-facebook fa-2x"})):s.a.createElement("i",{className:"fab fa-facebook fa-2x p-2",style:{color:"#bbbbbb"}}),a.youtube?s.a.createElement(o.b,{to:a.youtube,className:"text-white p-2"},s.a.createElement("i",{className:"fab fa-youtube fa-2x"})):s.a.createElement("i",{className:"fab fa-youtube fa-2x p-2",style:{color:"#bbbbbb"}}),a.instagram?s.a.createElement(o.b,{to:a.instagram,className:"text-white p-2"},s.a.createElement("i",{className:"fab fa-instagram fa-2x"})):s.a.createElement("i",{className:"fab fa-instagram fa-2x p-2",style:{color:"#bbbbbb"}}))))))))))}}]),a}(r.Component),Le=Object(i.b)((function(e){return{auth:Q(e),wishlist:Ue(e)}}),(function(e){return{}}))(Object(F.e)(_e)),Be=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Le,null))}}]),a}(r.Component),Ye=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={productData:{},user:{},image:[],errors:{}},e.handleSubmit=function(t){t.preventDefault();var a=new FormData(t.target);M.a.post("/api/products/editproduct",a).then((function(t){return e.props.history.push("/myads")})).catch((function(t){return e.setState({errors:t.response.data})}))},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value,s=e.state.productData;s[n]=r,e.setState({productData:s})},e.handleChangePhoto=function(t){var a=t.target.value,n=e.state;n.image.push(a),e.setState(n)},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ae.a.parse(this.props.history.location.search);M.a.get("/api/products/singleproduct/".concat(t.id)).then((function(t){M.a.get("/api/users/current/".concat(t.data.user)).then((function(t){return e.setState({user:t.data})})),e.setState({productData:t.data})})).catch((function(t){return e.props.history.push("/")}))}},{key:"render",value:function(){var e=this.state.productData,t=this.state.errors;return s.a.createElement("div",{className:"add-product mt-4"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-auto"},s.a.createElement("h1",{className:"display-4 text-center"},"Add Your Product"),s.a.createElement("p",{className:"lead text-center"},"Give good description for better sales."),s.a.createElement("form",{enctype:"multipart/form-data",id:"postad",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",value:e._id,name:"id",readOnly:!0,hidden:!0}),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:be()("form-control form-control-lg",{"is-invalid":t.title}),placeholder:"Title",name:"title",value:e.title,onChange:this.handleChange}),t.title&&s.a.createElement("div",{className:"invalid-feedback"},t.title),s.a.createElement("small",{className:"form-text text-muted"},"Add Title (max 20 words)")),s.a.createElement("div",{className:"form-group"},s.a.createElement("select",{className:"form-control form-control-lg",name:"category",value:e.category,onChange:this.handleChange},s.a.createElement("option",{value:"Automobile"},"Automobile"),s.a.createElement("option",{value:"Real-Estate"},"Real Estate"),s.a.createElement("option",{value:"Electronics",selected:!0},"Electronics"),s.a.createElement("option",{value:"Fashion"},"Fasion"),s.a.createElement("option",{value:"Pet"},"Pet"),s.a.createElement("option",{value:"Furniture"},"Furniture")),s.a.createElement("small",{className:"form-text text-muted"},"Select Category")),s.a.createElement("div",{className:"form-group"},s.a.createElement("select",{className:"form-control form-control-lg",name:"city",value:e.city,onChange:this.handleChange},s.a.createElement("option",{value:"Delhi"},"Delhi"),s.a.createElement("option",{value:"Bangalore"},"Bangalore"),s.a.createElement("option",{value:"Mumbai"},"Mumbai"),s.a.createElement("option",{value:"Kolkata"},"Kolkata"),s.a.createElement("option",{value:"Chennai"},"Chennai")),s.a.createElement("small",{className:"form-text text-muted"},"Select your city")),s.a.createElement("div",{className:"input-group mb-0"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement("h5",null,"\u20b9"))),s.a.createElement("input",{type:"number",className:be()("form-control form-control-lg",{"is-invalid":t.price}),placeholder:"Enter Amount",name:"price",value:e.price,onChange:this.handleChange}),t.price&&s.a.createElement("div",{className:"invalid-feedback"},t.price)),s.a.createElement("small",{className:"form-text text-muted mb-4"},"Enter Price"),s.a.createElement("div",{className:"form-group"},s.a.createElement("textarea",{className:be()("form-control",{"is-invalid":t.description}),rows:"3",placeholder:"Add Description (max 100 words)",name:"description",value:e.description,onChange:this.handleChange,form:"postad"}),t.description&&s.a.createElement("div",{className:"invalid-feedback"},t.description),s.a.createElement("small",{className:"form-text text-muted"},"Add Description (max 100 words)")),s.a.createElement("div",null,s.a.createElement("h2",null,"Select Images"),s.a.createElement("h6",{className:"text-danger"},"Note: If you are selecting images, you have to select all the images again"),s.a.createElement("div",{className:"form-group"},s.a.createElement("br",null),s.a.createElement("div",{class:"input-group"},s.a.createElement("div",{class:"custom-file"},s.a.createElement("input",{type:"file",class:be()("custom-file-input",{"is-invalid":t.image1}),id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChangePhoto}),s.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[0]?this.state.image[0]:"Choose Image"))),t.image1&&s.a.createElement("small",{className:"form-text text-danger"},t.image1),s.a.createElement("small",{className:"form-text text-muted"},"Primary Photo")),s.a.createElement("div",{className:"form-group"},s.a.createElement("br",null),s.a.createElement("div",{class:"input-group"},s.a.createElement("div",{class:"custom-file"},s.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChangePhoto}),s.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[1]?this.state.image[1]:"Choose Image")))),s.a.createElement("div",{className:"form-group"},s.a.createElement("br",null),s.a.createElement("div",{class:"input-group"},s.a.createElement("div",{class:"custom-file"},s.a.createElement("input",{type:"file",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",name:"image",onChange:this.handleChangePhoto}),s.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},this.state.image[2]?this.state.image[2]:"Choose Image"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-around"},s.a.createElement("button",{className:"btn btn-info col-5"},"Save"),s.a.createElement("button",{className:"btn btn-secondary col-5"},"Cancel")))))))}}]),a}(r.Component),Ke=Object(i.b)((function(e){return{auth:Q(e)}}),(function(e){return{}}))(Object(F.e)(Ye)),ze=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){e.props.history.push("/product/?id=".concat(t.target.id))},e.onRemove=function(t){var a={id:e.props.auth.user.id,proId:t.target.id};M.a.post("/api/users/deleteproductfromwishlist",a).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=this;M.a.get("/api/users/current/".concat(this.props.auth.user.id)).then((function(t){return e.props.getWishlist(t.data.myWishlist)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"wishlist mt-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-auto"},s.a.createElement(o.b,{to:"/dashboard",className:"btn btn-light"},"Go Back / Dashboard"),s.a.createElement("h1",{className:"display-4 text-center"},"My Wishlist"),s.a.createElement("p",{className:"lead text-center"},"Contact the seller soon before the product is sold out"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-11 container-fluid justify-content-start mx-auto"},this.props.wishlist.myWishlist.length>0?this.props.wishlist.myWishlist.map((function(t,a){return s.a.createElement(le,{key:a,product:t,onClick:e.onClick,onRemove:e.onRemove})})):""))}}]),a}(r.Component),He=Object(i.b)((function(e){return{auth:Q(e),wishlist:Ue(e)}}),(function(e){return{getWishlist:function(t){return e(q(t))}}}))(Object(F.e)(ze)),qe=function(e){Object(I.a)(a,e);var t=Object(R.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.jwtToken){_(localStorage.jwtToken);var t=W()(localStorage.jwtToken);this.props.setCurrentUser(t),M.a.get("/api/users/current/".concat(t.id)).then((function(t){return e.props.getMyProducts(t.data.myProducts)})),M.a.get("/api/users/current/".concat(t.id)).then((function(t){return e.props.getWishlist(t.data.myWishlist)}))}}},{key:"render",value:function(){return s.a.createElement(o.a,null,s.a.createElement(ee,null),s.a.createElement(F.a,{exact:!0,path:"/",component:ue}),s.a.createElement(F.a,{exact:!0,path:"/results",component:de}),s.a.createElement(F.a,{exact:!0,path:"/signup",component:ke}),s.a.createElement(F.a,{exact:!0,path:"/login",component:Ce}),s.a.createElement(F.a,{path:"/product",component:Be}),s.a.createElement(F.a,{exact:!0,path:"/dashboard",component:U(Ae)}),s.a.createElement(F.a,{exact:!0,path:"/editprofile",component:U(Re)}),s.a.createElement(F.a,{exact:!0,path:"/myads",component:U(We)}),s.a.createElement(F.a,{exact:!0,path:"/wishlist",component:U(He)}),s.a.createElement(F.a,{exact:!0,path:"/editmyad",component:U(Ke)}),s.a.createElement(F.a,{exact:!0,path:"/postad",component:U(Me)}),s.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"},"Copyright \xa9 2020 Bazaar"))}}]),a}(s.a.Component),Je=Object(i.b)(null,(function(e){return{setCurrentUser:function(t){return e(z(t))},getMyProducts:function(t){return e(H(t))},getWishlist:function(t){return e(q(t))}}}))(qe);a(98);l.a.render(s.a.createElement(i.a,{store:S},s.a.createElement(o.a,null,s.a.createElement(m.a,{persistor:D},s.a.createElement(Je,null)))),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.f4b44430.chunk.js.map